
$grid-gutter-width = round(1rem / 2, $rounding-precision)


.grid
    font-size: 0
    // width: 100%
    padding: var(--grid-gutter-width)
    display: flex
    flex: 0 1 auto
    flex-direction: row
    flex-wrap: wrap

    > .grid
        margin: calc(var(--grid-gutter-width)*-1)
        width: calc(100% + (var(--grid-gutter-width) * 2))
        font-size: inherit

    &.middle
        align-items: center




.grid >
    *
    // div, span, section, main, article, header, footer, form
        font-size: initial
        // width: 100%
        display: inline-block
        padding: var(--grid-gutter-width)
        flex: 0 0 auto
        flex-grow: 1

    &.flex-auto
        flex-grow: 1


mq_grid($TITLE, $BP_MIN, $BP_MAX=0)
    // @media (max-width: $BP_MAX)
    //     .show-{$TITLE}
    //         display: none

    @media (min-width: $BP_MIN)

        // // TODO: this suffers from lack of context regarding the initial display mode
        // .show-{$TITLE}
        //     display: inline-block

        .grid >
            [{$TITLE}="1-2"]
                width: 50%


            [{$TITLE}="1-3"]
                width: round(100% / 3, $rounding-precision)

            [{$TITLE}="2-3"]
                width: round(100% / 3, $rounding-precision) * 2


            [{$TITLE}="1-4"]
                width: round(100% / 4, $rounding-precision)

            [{$TITLE}="3-4"]
                width: round(100% / 4, $rounding-precision) * 3


            [{$TITLE}="1-5"]
                width: round(100% / 5, $rounding-precision)

            [{$TITLE}="2-5"]
                width: round(100% / 5, $rounding-precision) * 2

            [{$TITLE}="3-5"]
                width: round(100% / 5, $rounding-precision) * 3

            [{$TITLE}="4-5"]
                width: round(100% / 5, $rounding-precision) * 4


            [{$TITLE}="1-6"]
                width: round(100% / 6, $rounding-precision)

            [{$TITLE}="2-6"]
                width: round(100% / 6, $rounding-precision) * 2

            [{$TITLE}="4-6"]
                width: round(100% / 6, $rounding-precision) * 4

            [{$TITLE}="5-6"]
                width: round(100% / 6, $rounding-precision) * 5


// =============================================
//  SETUP GRID MODIFIERS
// =============================================
mq_grid("mobile",   0,              $bp-mobile)
mq_grid("mobile-l", $bp-mobile,     $bp-tablet)
mq_grid("tablet",   $bp-tablet,     $bp-lappy)
mq_grid("lappy",    $bp-lappy,      $bp-desktop)
mq_grid("desktop",  $bp-desktop)
